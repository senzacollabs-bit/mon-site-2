<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Depop ‚Äî G√©n√©rateur d‚Äôannonce simplifi√©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0b0d10; --panel:#12161b; --muted:#8fa3b0; --text:#e8eef2; --acc:#65c3ff; --acc2:#7dffb0; }
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:16px/1.4 system-ui,Segoe UI,Roboto,Arial}
    .wrap{max-width:800px;margin:40px auto;padding:0 16px}
    h1{font-size:22px;margin:0 0 16px}
    .card{background:var(--panel);border:1px solid #1f2a33;border-radius:16px;padding:18px;box-shadow:0 6px 24px rgba(0,0,0,.25);margin-bottom:24px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input,textarea,select{width:100%;background:#0f1318;border:1px solid #22303a;color:var(--text);border-radius:12px;padding:10px 12px}
    textarea{min-height:100px;resize:vertical}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .btns{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    button{border:1px solid #243341;background:#121a22;color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer}
    button.primary{background:linear-gradient(120deg,var(--acc),var(--acc2));color:#031016;border:none}
    .out pre{white-space:pre-wrap;background:#0f1318;border:1px solid #22303a;padding:12px;border-radius:12px}
    .footer{margin-top:18px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>D√©pop ‚Äî G√©n√©rateur d‚Äôannonce simplifi√©</h1>

    <div class="card">
      <div class="row">
        <div>
          <label>Cat√©gorie</label>
          <input id="category" placeholder="Veste, Jean, Sweat..." value="Veste" />
        </div>
        <div>
          <label>Marque</label>
          <input id="brand" placeholder="Nike, Levi‚Äôs..." value="Nike" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>√âtat</label>
          <select id="condition">
            <option>Neuf</option>
            <option>Tr√®s bon √©tat</option>
            <option selected>Bon √©tat</option>
            <option>Correct</option>
          </select>
        </div>
        <div>
          <label>Taille</label>
          <input id="size" placeholder="M, 32, EU42..." value="M" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Mati√®re</label>
          <input id="material" placeholder="Coton, Denim..." value="Coton" />
        </div>
        <div>
          <label>Couleur</label>
          <input id="color" placeholder="Noir, Bleu..." value="Noir" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Mesure poitrine (cm)</label>
          <input id="chest" type="number" min="0" step="1" placeholder="ex 54" />
        </div>
        <div>
          <label>Longueur (cm)</label>
          <input id="length" type="number" min="0" step="1" placeholder="ex 66" />
        </div>
      </div>

      <label style="margin-top:10px">D√©fauts (facultatif)</label>
      <input id="flaws" placeholder="Ex : l√©ger boulochage manche droite" />

      <label style="margin-top:10px">Note exp√©dition (facultatif)</label>
      <input id="ship" placeholder="Envoi depuis la Suisse ‚Ä¶" />

      <div class="btns">
        <button class="primary" id="btnBuild">G√©n√©rer</button>
        <button id="btnClear">Tout vider</button>
      </div>
    </div>

    <div class="card out">
      <label>Titre</label>
      <pre id="outTitle"></pre>
      <div class="btns">
        <button onclick="copyText(outTitle.innerText)">Copier le titre</button>
      </div>

      <label style="margin-top:10px">Description</label>
      <pre id="outDesc"></pre>
      <div class="btns">
        <button onclick="copyText(outDesc.innerText)">Copier la description</button>
        <button onclick="copyAll()" class="primary">Tout copier</button>
        <button onclick="downloadTxt()">Exporter .txt</button>
      </div>
    </div>

    <div class="footer">
      <div class="footer">
        Remarque : cette version ne g√©n√®re pas automatiquement le prix ni les hashtags ‚Äî tu les mets toi-m√™me dans D√©pop.
      </div>
    </div>
  </div>

  <script>
    const $ = id => document.getElementById(id);

    function dedup(arr) {
      return [...new Set(arr.map(x => String(x || '').trim()).filter(Boolean))];
    }
    function buildTitle(v) {
      return [v.brand, v.category, v.size ? `Taille ${v.size}` : null, v.condition ? `(${v.condition})` : null]
        .filter(Boolean).join(' ');
    }
    function buildBullets(v) {
      const lines = [
        v.brand && `Marque : ${v.brand}`,
        v.condition && `√âtat : ${v.condition}`,
        v.size && `Taille : ${v.size}`,
        v.material && `Mati√®re : ${v.material}`,
        v.color && `Couleur : ${v.color}`,
        v.chest && `Poitrine : ${v.chest} cm`,
        v.length && `Longueur : ${v.length} cm`
      ].filter(Boolean);
      return lines.map(l => `‚Ä¢ ${l}`).join('\n');
    }
    function buildDesc(v) {
      const bullets = buildBullets(v);
      const flaws = v.flaws ? `\n‚ùó D√©faut : ${v.flaws}` : '';
      const ship = v.ship ? `\nüì¶ ${v.ship}` : '';
      return (`Article pr√™t √† partir üá®üá≠
${bullets}${flaws}
${ship}

‚úÖ Original, authentique (√©tiquettes visibles sur photos)
üí¨ Questions bienvenues`).trim();
    }

    $('btnBuild').addEventListener('click', () => {
      const v = {
        category: $('category').value,
        brand: $('brand').value,
        condition: $('condition').value,
        size: $('size').value,
        material: $('material').value,
        color: $('color').value,
        chest: $('chest').value,
        length: $('length').value,
        flaws: $('flaws').value,
        ship: $('ship').value
      };
      $('outTitle').innerText = buildTitle(v);
      $('outDesc').innerText = buildDesc(v);
    });

    $('btnClear').addEventListener('click', () => {
      document.querySelectorAll('input, textarea').forEach(el => {
        el.value = '';
      });
      $('outTitle').innerText = '';
      $('outDesc').innerText = '';
    });

    async function copyText(text) {
      try {
        await navigator.clipboard.writeText(text);
      } catch (e) {
        const ta = document.createElement('textarea');
        ta.value = text;
        document.body.appendChild(ta);
        ta.style.position = 'fixed';
        ta.style.opacity = '0';
        ta.select();
        try { document.execCommand('copy'); } catch (_) { }
        document.body.removeChild(ta);
      }
    }

    function copyAll(){
      const block = `TITRE:\n${$('outTitle').innerText}\n\nDESCRIPTION:\n${$('outDesc').innerText}\n`;
      copyText(block);
    }

    function downloadTxt(){
      const content = `TITRE:\n${$('outTitle').innerText}\n\nDESCRIPTION:\n${$('outDesc').innerText}\n`;
      const blob = new Blob([content], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'depop-annonce.txt';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>

